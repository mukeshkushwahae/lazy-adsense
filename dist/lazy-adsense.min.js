/**
 * Plugin Name: Lazy AdSense
 * Plugin URI: https://github.com/mukeshkushwahae/lazy-adsense
 * Description: Lightweight script to delay the loading of Google AdSense until user interaction (scroll or click), improving performance and Core Web Vitals. Automatically stores a flag in localStorage to prevent repeated triggering.
 * Version: 1.0.0
 * Author: Mukesh Kushwaha
 * Author URI: https://github.com/mukeshkushwahae
 * License: MIT
 * License URI: https://github.com/mukeshkushwahae/lazy-adsense/blob/main/LICENSE.md
 */
!function(e){"function"==typeof define&&define.amd?define(e):e()}(function(){"use strict";(()=>{const e="1"===localStorage.getItem("lazyAdsense"),n=()=>{const e=document.createElement("script");e.async=!0,e.crossOrigin="anonymous";const n="string"==typeof window.lazyAdClient&&window.lazyAdClient.startsWith("ca-pub-");e.src=n?"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client="+window.lazyAdClient:"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js",document.head.appendChild(e)};if(e)n();else{let e=!1,t=!1;const o=()=>{e||t||(n(),localStorage.setItem("lazyAdsense","1"),e=!0,t=!0)};window.addEventListener("scroll",()=>{(document.documentElement.scrollTop||document.body.scrollTop)>0&&!e&&o()},{passive:!0}),window.addEventListener("click",()=>{t||o()},{passive:!0})}})()});